<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiplication Practice - Math Fun for Kids!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">‚Üê Back Home</a>
            <h1>‚úñÔ∏è Multiplication Practice</h1>
        </div>

        <div class="score-board">
            <div class="score">Score: <span id="score">0</span></div>
            <div class="streak">Streak: <span id="streak">0</span></div>
        </div>

        <div class="exercise-area">
            <div class="problem" id="problem">
                Click "New Problem" to start!
            </div>

            <div class="answer-section">
                <input type="number" id="answer" placeholder="Your answer" />
                <button onclick="checkAnswer()" class="btn">Check Answer</button>
            </div>

            <div class="controls">
                <button onclick="newProblem()" class="btn secondary">New Problem</button>
                <button onclick="showHint()" class="btn hint">Need a Hint?</button>
            </div>

            <div id="feedback" class="feedback"></div>
            <div id="hint" class="hint-text"></div>
        </div>

        <div class="settings">
            <label>Times Table:
                <select id="difficulty" onchange="newProblem()">
                    <option value="1-5">Easy (1-5 times table)</option>
                    <option value="1-10">Medium (1-10 times table)</option>
                    <option value="1-12">Hard (1-12 times table)</option>
                    <option value="mixed">Mixed Challenge</option>
                </select>
            </label>
        </div>
    </div>

    <script>
        let currentProblem = null;
        let score = 0;
        let streak = 0;

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function newProblem() {
            const difficulty = document.getElementById('difficulty').value;
            let num1, num2;

            switch(difficulty) {
                case '1-5':
                    num1 = getRandomNumber(1, 5);
                    num2 = getRandomNumber(1, 10);
                    break;
                case '1-10':
                    num1 = getRandomNumber(1, 10);
                    num2 = getRandomNumber(1, 10);
                    break;
                case '1-12':
                    num1 = getRandomNumber(1, 12);
                    num2 = getRandomNumber(1, 12);
                    break;
                case 'mixed':
                    num1 = getRandomNumber(1, 15);
                    num2 = getRandomNumber(1, 15);
                    break;
            }

            currentProblem = {
                num1: num1,
                num2: num2,
                answer: num1 * num2
            };

            document.getElementById('problem').innerHTML = `${num1} √ó ${num2} = ?`;
            document.getElementById('answer').value = '';
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('hint').innerHTML = '';
            document.getElementById('answer').focus();
        }

        function checkAnswer() {
            const userAnswer = parseInt(document.getElementById('answer').value);
            const feedback = document.getElementById('feedback');

            if (!currentProblem) {
                feedback.innerHTML = '<span class="incorrect">Please click "New Problem" first!</span>';
                return;
            }

            if (isNaN(userAnswer)) {
                feedback.innerHTML = '<span class="incorrect">Please enter a number!</span>';
                return;
            }

            if (userAnswer === currentProblem.answer) {
                score += 15;
                streak++;
                feedback.innerHTML = '<span class="correct">üéâ Correct! Awesome!</span>';
                setTimeout(newProblem, 1500);
            } else {
                streak = 0;
                feedback.innerHTML = `<span class="incorrect">Not quite! The answer is ${currentProblem.answer}. Try again!</span>`;
            }

            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
        }

        function showHint() {
            if (!currentProblem) return;

            const hint = document.getElementById('hint');
            const smaller = Math.min(currentProblem.num1, currentProblem.num2);
            const larger = Math.max(currentProblem.num1, currentProblem.num2);

            let hintText = `üí° Hint: Think of ${larger} groups of ${smaller}`;
            if (smaller <= 5) {
                let addition = [];
                for (let i = 0; i < smaller; i++) {
                    addition.push(larger);
                }
                hintText += ` (${addition.join(' + ')})`;
            }

            hint.innerHTML = hintText;
        }

        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        newProblem();
    </script>
</body>
</html>