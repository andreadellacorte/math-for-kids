<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Addition Practice - Math Fun for Kids!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-btn">‚Üê Back Home</a>
            <h1>‚ûï Addition Practice</h1>
        </div>

        <div class="score-board">
            <div class="score">Score: <span id="score">0</span></div>
            <div class="streak">Streak: <span id="streak">0</span></div>
        </div>

        <div class="exercise-area">
            <div class="problem" id="problem">
                Click "New Problem" to start!
            </div>

            <div class="answer-section">
                <input type="number" id="answer" placeholder="Your answer" />
                <button onclick="checkAnswer()" class="btn">Check Answer</button>
            </div>

            <div class="controls">
                <button onclick="newProblem()" class="btn secondary">New Problem</button>
                <button onclick="showHint()" class="btn hint">Need a Hint?</button>
            </div>

            <div id="feedback" class="feedback"></div>
            <div id="hint" class="hint-text"></div>
        </div>

        <div class="settings">
            <label>Difficulty:
                <select id="difficulty" onchange="newProblem()">
                    <option value="easy">Easy (1-10)</option>
                    <option value="medium">Medium (1-50)</option>
                    <option value="hard">Hard (1-100)</option>
                </select>
            </label>
        </div>
    </div>

    <script>
        let currentProblem = null;
        let score = 0;
        let streak = 0;

        function getRandomNumber(max) {
            return Math.floor(Math.random() * max) + 1;
        }

        function newProblem() {
            const difficulty = document.getElementById('difficulty').value;
            let maxNum;

            switch(difficulty) {
                case 'easy': maxNum = 10; break;
                case 'medium': maxNum = 50; break;
                case 'hard': maxNum = 100; break;
            }

            const num1 = getRandomNumber(maxNum);
            const num2 = getRandomNumber(maxNum);

            currentProblem = {
                num1: num1,
                num2: num2,
                answer: num1 + num2
            };

            document.getElementById('problem').innerHTML = `${num1} + ${num2} = ?`;
            document.getElementById('answer').value = '';
            document.getElementById('feedback').innerHTML = '';
            document.getElementById('hint').innerHTML = '';
            document.getElementById('answer').focus();
        }

        function checkAnswer() {
            const userAnswer = parseInt(document.getElementById('answer').value);
            const feedback = document.getElementById('feedback');

            if (!currentProblem) {
                feedback.innerHTML = '<span class="incorrect">Please click "New Problem" first!</span>';
                return;
            }

            if (isNaN(userAnswer)) {
                feedback.innerHTML = '<span class="incorrect">Please enter a number!</span>';
                return;
            }

            if (userAnswer === currentProblem.answer) {
                score += 10;
                streak++;
                feedback.innerHTML = '<span class="correct">üéâ Correct! Great job!</span>';
                setTimeout(newProblem, 1500);
            } else {
                streak = 0;
                feedback.innerHTML = `<span class="incorrect">Not quite! The answer is ${currentProblem.answer}. Try again!</span>`;
            }

            document.getElementById('score').textContent = score;
            document.getElementById('streak').textContent = streak;
        }

        function showHint() {
            if (!currentProblem) return;

            const hint = document.getElementById('hint');
            hint.innerHTML = `üí° Hint: Start with ${currentProblem.num1} and count up ${currentProblem.num2} more!`;
        }

        // Allow Enter key to submit answer
        document.getElementById('answer').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // Start with a problem
        newProblem();
    </script>
</body>
</html>